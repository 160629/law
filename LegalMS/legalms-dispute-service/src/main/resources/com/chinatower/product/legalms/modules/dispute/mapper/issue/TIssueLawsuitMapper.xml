<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.chinatower.product.legalms.modules.dispute.mapper.issue.TIssueLawsuitMapper">
	<resultMap id="BaseResultMap"
		type="com.chinatower.product.legalms.modules.dispute.entity.issue.TIssueLawsuit">
		<id column="lawsuit_id" jdbcType="VARCHAR" property="lawsuitId" />
		<result column="lawsuit_code" jdbcType="VARCHAR"
			property="lawsuitCode" />
		<result column="lawsuit_title" jdbcType="VARCHAR"
			property="lawsuitTitle" />
		<result column="guide_id" jdbcType="VARCHAR" property="guideId" />
		<result column="case_id" jdbcType="VARCHAR" property="caseId" />
		<result column="approve_state" jdbcType="VARCHAR"
			property="approveState" />
		<result column="approve_city" jdbcType="VARCHAR"
			property="approveCity" />
		<result column="approve_org" jdbcType="VARCHAR"
			property="approveOrg" />
		<result column="approve_level" jdbcType="VARCHAR"
			property="approveLevel" />
		<result column="case_create_time" jdbcType="TIMESTAMP"
			property="caseCreateTime" />
		<result column="create_time" jdbcType="TIMESTAMP"
			property="createTime" />
		<result column="case_type" jdbcType="VARCHAR"
			property="caseType" />
		<result column="indict_or_unindict" jdbcType="VARCHAR"
			property="indictOrUnindict" />
		<result column="case_line" jdbcType="VARCHAR"
			property="caseLine" />
		<result column="case_cause" jdbcType="VARCHAR"
			property="caseCause" />
		<result column="our_lawsuit_body" jdbcType="VARCHAR"
			property="ourLawsuitBody" />
		<result column="our_lawsuit_body_name" jdbcType="VARCHAR"
			property="ourLawsuitBodyName" />
		<result column="they_lawsuit_body" jdbcType="VARCHAR"
			property="theyLawsuitBody" />
		<result column="our_lawsuit_status" jdbcType="VARCHAR"
			property="ourLawsuitStatus" />
		<result column="our_lawsuit_body_name" jdbcType="VARCHAR"
			property="ourLawsuitBodyName" />
		<result column="lawsuit_money" jdbcType="VARCHAR"
			property="lawsuitMoney" />
		<result column="lawsuit_size" jdbcType="VARCHAR"
			property="lawsuitSize" />
		<result column="lawsuit_detail" jdbcType="VARCHAR"
			property="lawsuitDetail" />
		<result column="file_url" jdbcType="VARCHAR" property="fileUrl" />
		<result column="other_related" jdbcType="VARCHAR"
			property="otherRelated" />
		<result column="third_person" jdbcType="VARCHAR"
			property="thirdPerson" />
		<result column="plaintiff" jdbcType="VARCHAR"
			property="plaintiff" />
		<result column="defendant" jdbcType="VARCHAR"
			property="defendant" />
		<result column="sign_dept" jdbcType="VARCHAR"
			property="signDept" />
		<result column="login_acct" jdbcType="VARCHAR"
			property="loginAcct" />
		<result column="login_name" jdbcType="VARCHAR"
			property="loginName" />
		<result column="org_name" jdbcType="VARCHAR" property="orgName" />
		<result column="org_id" jdbcType="VARCHAR" property="orgId" />
		<result column="dept_name" jdbcType="VARCHAR"
			property="deptName" />
		<result column="dept_id" jdbcType="VARCHAR" property="deptId" />
		<result column="mobile" jdbcType="VARCHAR" property="mobile" />
		<result column="lawsuit_status" jdbcType="VARCHAR"
			property="lawsuitStatus" />
		<result column="module_name" jdbcType="VARCHAR"
			property="moduleName" />
		<result column="lawsuit_analyze" jdbcType="VARCHAR"
			property="lawsuitAnalyze" />
		<result column="lawsuit_advise" jdbcType="VARCHAR"
			property="lawsuitAdvise" />
		<result column="business_advice" jdbcType="VARCHAR"
			property="businessAdvice" />
		<result column="create_case_type" property="createCaseType"
			jdbcType="INTEGER" />
		<result column="case_title" property="caseTitle"
			jdbcType="VARCHAR" />
	</resultMap>
	<sql id="Base_Column_List">
		lawsuit_id, lawsuit_code,lawsuit_title,guide_id, case_id,
		approve_state, approve_city,
		approve_org, approve_level,
		case_create_time,create_time, case_type, indict_or_unindict,
		case_line,
		case_cause,
		our_lawsuit_body,our_lawsuit_body_name,
		they_lawsuit_body, our_lawsuit_status,
		lawsuit_money, lawsuit_size,
		lawsuit_detail,
		file_url,
		other_related,sign_dept,login_acct,login_name,org_name,org_id,dept_name,dept_id,mobile,
		lawsuit_status,module_name,lawsuit_analyze,lawsuit_advise,business_advice,create_case_type,case_title
	</sql>
	<sql id="Base_Main_Column_List">
		fm.flow_id, fm.flow_name, fm.flow_status,fm.create_user_id,
		fm.create_user_name,
		fm.approve_item_name,
		fm.module_name,fm.version_id
	</sql>
	<resultMap id="SubTFlowLog"
		type="com.chinatower.product.legalms.modules.flow.vo.flow.SubTFlowLogVO">
		<id column="flow_log_id_sub" jdbcType="VARCHAR"
			property="flowLogId" />
		<result column="status_sub" jdbcType="VARCHAR"
			property="status" />
		<result column="business_advice_sub" jdbcType="VARCHAR"
			property="businessAdvice" />
		<result column="opinion_sub" jdbcType="VARCHAR"
			property="opinion" />
		<result column="modify_time_sub" jdbcType="TIMESTAMP"
			property="modifyTime" />
		<result column="activity_inst_id_sub" jdbcType="BIGINT"
			property="activityInstId" />
		<result column="activity_def_id_sub" jdbcType="VARCHAR"
			property="activityDefId" />
		<result column="activity_def_name_sub" jdbcType="VARCHAR"
			property="activityDefName" />
		<result column="next_activity_def_id_sub" jdbcType="VARCHAR"
			property="nextActivityDefId" />
		<result column="next_activity_def_name_sub" jdbcType="VARCHAR"
			property="nextActivityDefName" />
		<result column="org_name_sub" jdbcType="VARCHAR"
			property="orgName" />
		<result column="org_id_sub" jdbcType="VARCHAR" property="orgId" />
		<result column="user_name_sub" jdbcType="VARCHAR"
			property="userName" />
		<result column="user_id_sub" jdbcType="VARCHAR"
			property="userId" />
		<result column="work_type_sub" jdbcType="VARCHAR"
			property="workType" />
		<result column="flow_id_sub" jdbcType="BIGINT"
			property="flowId" />
		<result column="flow_pid_sub" jdbcType="BIGINT"
			property="flowPid" />
		<result column="receiver_company_id_sub" jdbcType="VARCHAR"
			property="receiverCompanyId" />
		<result column="receiver_company_name_sub" jdbcType="VARCHAR"
			property="receiverCompanyName" />
		<result column="receiver_org_id_sub" jdbcType="VARCHAR"
			property="receiverOrgId" />
		<result column="receiver_org_name_sub" jdbcType="VARCHAR"
			property="receiverOrgName" />
		<result column="receiver_id_sub" jdbcType="VARCHAR"
			property="receiverId" />
		<result column="receiver_name_sub" jdbcType="VARCHAR"
			property="receiverName" />
		<result column="approve_item_id_sub" jdbcType="VARCHAR"
			property="approveItemId" />
		<result column="approve_item_type_sub" jdbcType="VARCHAR"
			property="approveItemType" />
		<result column="toer_id_sub" jdbcType="VARCHAR"
			property="toerId" />
		<result column="toer_name_sub" jdbcType="VARCHAR"
			property="toerName" />
		<result column="option_type_sub" jdbcType="VARCHAR"
			property="optionType" />
		<result column="dept_name_sub" jdbcType="VARCHAR"
			property="deptName" />
		<result column="dept_id_sub" jdbcType="VARCHAR"
			property="deptId" />
	</resultMap>
	<sql id="Sub_Column_List">
		flo.flow_log_id flow_log_id_sub, flo.status status_sub,
		flo.business_advice
		business_advice_sub,
		flo.receiver_company_id
		receiver_company_id_sub, flo.receiver_company_name
		receiver_company_name_sub,
		flo.receiver_org_id receiver_org_id_sub,
		flo.receiver_org_name receiver_org_name_sub, flo.receiver_id
		receiver_id_sub,
		flo.receiver_name receiver_name_sub,
		flo.opinion
		opinion_sub, flo.modify_time modify_time_sub, flo.activity_inst_id
		activity_inst_id_sub, flo.activity_def_id activity_def_id_sub,
		flo.activity_def_name activity_def_name_sub,
		flo.next_activity_def_id
		next_activity_def_id_sub, flo.next_activity_def_name
		next_activity_def_name_sub,
		flo.org_name org_name_sub, flo.org_id
		org_id_sub, flo.user_name user_name_sub,
		flo.user_id user_id_sub,
		flo.work_type work_type_sub, flo.flow_id flow_id_sub, flo.flow_pid
		flow_pid_sub,flo.toer_id toer_id_sub,flo.toer_name
		toer_name_sub,flo.option_type option_type_sub,
		flo.dept_name
		dept_name_sub,flo.dept_id dept_id_sub
	</sql>
	<sql id="log_Column_List">
		fl.flow_log_id, fl.status, fl.business_advice,
		fl.receiver_company_id, fl.receiver_company_name,
		fl.receiver_org_id,
		fl.receiver_org_name, fl.receiver_id, fl.receiver_name,
		fl.opinion,
		fl.modify_time modify_time_log, fl.activity_inst_id,
		fl.activity_def_id, fl.activity_def_name,
		fl.next_activity_def_id,
		fl.next_activity_def_name, fl.org_name org_name_log, fl.org_id
		org_id_log,
		fl.user_name,
		fl.user_id,
		fl.work_type, fl.flow_id,
		fl.flow_pid,fl.approve_item_id,fl.approve_item_type,fl.flow_def_name,fl.toer_id,fl.toer_name,fl.act_pid,fl.option_type,
		fl.dept_name dept_name_log,fl.dept_id dept_id_log
	</sql>
	<resultMap id="LawsuitVO"
		type="com.chinatower.product.legalms.modules.dispute.vo.issue.TIssueLawsuitVO">
		<id column="lawsuit_id" jdbcType="VARCHAR" property="lawsuitId" />
		<result column="lawsuit_code" jdbcType="VARCHAR"
			property="lawsuitCode" />
		<result column="lawsuit_title" jdbcType="VARCHAR"
			property="lawsuitTitle" />
		<result column="guide_id" jdbcType="VARCHAR" property="guideId" />
		<result column="case_id" jdbcType="VARCHAR" property="caseId" />
		<result column="approve_state" jdbcType="VARCHAR"
			property="approveState" />
		<result column="approve_city" jdbcType="VARCHAR"
			property="approveCity" />
		<result column="approve_org" jdbcType="VARCHAR"
			property="approveOrg" />
		<result column="approve_level" jdbcType="VARCHAR"
			property="approveLevel" />
		<result column="case_create_time" jdbcType="TIMESTAMP"
			property="caseCreateTime" />
		<result column="create_time" jdbcType="TIMESTAMP"
			property="createTime" />
		<result column="case_type" jdbcType="VARCHAR"
			property="caseType" />
		<result column="indict_or_unindict" jdbcType="VARCHAR"
			property="indictOrUnindict" />
		<result column="case_line" jdbcType="VARCHAR"
			property="caseLine" />
		<result column="case_cause" jdbcType="VARCHAR"
			property="caseCause" />
		<result column="our_lawsuit_body" jdbcType="VARCHAR"
			property="ourLawsuitBody" />
		<result column="our_lawsuit_body_name" jdbcType="VARCHAR"
			property="ourLawsuitBodyName" />
		<result column="they_lawsuit_body" jdbcType="VARCHAR"
			property="theyLawsuitBody" />
		<result column="our_lawsuit_status" jdbcType="VARCHAR"
			property="ourLawsuitStatus" />
		<result column="lawsuit_money" jdbcType="VARCHAR"
			property="lawsuitMoney" />
		<result column="lawsuit_size" jdbcType="VARCHAR"
			property="lawsuitSize" />
		<result column="lawsuit_detail" jdbcType="VARCHAR"
			property="lawsuitDetail" />
		<result column="file_url" jdbcType="VARCHAR" property="fileUrl" />
		<result column="other_related" jdbcType="VARCHAR"
			property="otherRelated" />
		<result column="third_person" jdbcType="VARCHAR"
			property="thirdPerson" />
		<result column="plaintiff" jdbcType="VARCHAR"
			property="plaintiff" />
		<result column="defendant" jdbcType="VARCHAR"
			property="defendant" />
		<result column="sign_dept" jdbcType="VARCHAR"
			property="signDept" />
		<result column="login_acct" jdbcType="VARCHAR"
			property="loginAcct" />
		<result column="login_name" jdbcType="VARCHAR"
			property="loginName" />
		<result column="org_name" jdbcType="VARCHAR" property="orgName" />
		<result column="org_id" jdbcType="VARCHAR" property="orgId" />
		<result column="dept_name" jdbcType="VARCHAR"
			property="deptName" />
		<result column="dept_id" jdbcType="VARCHAR" property="deptId" />
		<result column="mobile" jdbcType="VARCHAR" property="mobile" />
		<result column="lawsuit_status" jdbcType="VARCHAR"
			property="lawsuitStatus" />
		<result column="module_name" jdbcType="VARCHAR"
			property="moduleName" />
		<result column="lawsuit_analyze" jdbcType="VARCHAR"
			property="lawsuitAnalyze" />
		<result column="lawsuit_advise" jdbcType="VARCHAR"
			property="lawsuitAdvise" />
		<result column="business_advice" jdbcType="VARCHAR"
			property="businessAdvice" />
		<result column="create_case_type" property="createCaseType"
			jdbcType="INTEGER" />
		<result column="case_title" property="caseTitle"
			jdbcType="VARCHAR" />
		<collection property="mian"
			ofType="com.chinatower.product.legalms.modules.flow.vo.flow.TFlowMainVO">
			<id column="flow_id" jdbcType="BIGINT" property="flowId" />
			<result column="flow_name" jdbcType="VARCHAR"
				property="flowName" />
			<result column="flow_status" jdbcType="VARCHAR"
				property="flowStatus" />
			<result column="create_time" jdbcType="TIMESTAMP"
				property="createTime" />
			<result column="create_user_id" jdbcType="VARCHAR"
				property="createUserId" />
			<result column="create_user_name" jdbcType="VARCHAR"
				property="createUserName" />
			<result column="approve_item_id" jdbcType="VARCHAR"
				property="approveItemId" />
			<result column="approve_item_name" jdbcType="VARCHAR"
				property="approveItemName" />
			<result column="approve_item_type" jdbcType="VARCHAR"
				property="approveItemType" />
			<result column="module_name" jdbcType="VARCHAR"
				property="moduleName" />
			<result column="version_id" jdbcType="VARCHAR"
				property="versionId" />
			<collection property="logs"
				ofType="com.chinatower.product.legalms.modules.flow.vo.flow.TFlowLogVO">
				<id column="flow_log_id" jdbcType="VARCHAR" property="flowLogId" />
				<result column="status" jdbcType="VARCHAR" property="status" />
				<result column="business_advice" jdbcType="VARCHAR"
					property="businessAdvice" />
				<result column="opinion" jdbcType="VARCHAR"
					property="opinion" />
				<result column="modify_time_log" jdbcType="TIMESTAMP"
					property="modifyTime" />
				<result column="activity_inst_id" jdbcType="BIGINT"
					property="activityInstId" />
				<result column="activity_def_id" jdbcType="VARCHAR"
					property="activityDefId" />
				<result column="activity_def_name" jdbcType="VARCHAR"
					property="activityDefName" />
				<result column="next_activity_def_id" jdbcType="VARCHAR"
					property="nextActivityDefId" />
				<result column="next_activity_def_name" jdbcType="VARCHAR"
					property="nextActivityDefName" />
				<result column="org_name_log" jdbcType="VARCHAR"
					property="orgName" />
				<result column="org_id_log" jdbcType="VARCHAR"
					property="orgId" />
				<result column="user_name" jdbcType="VARCHAR"
					property="userName" />
				<result column="user_id" jdbcType="VARCHAR" property="userId" />
				<result column="work_type" jdbcType="VARCHAR"
					property="workType" />
				<result column="flow_id" jdbcType="BIGINT" property="flowId" />
				<result column="flow_pid" jdbcType="BIGINT"
					property="flowPid" />
				<result column="receiver_company_id" jdbcType="VARCHAR"
					property="receiverCompanyId" />
				<result column="receiver_company_name" jdbcType="VARCHAR"
					property="receiverCompanyName" />
				<result column="receiver_org_id" jdbcType="VARCHAR"
					property="receiverOrgId" />
				<result column="receiver_org_name" jdbcType="VARCHAR"
					property="receiverOrgName" />
				<result column="receiver_id" jdbcType="VARCHAR"
					property="receiverId" />
				<result column="receiver_name" jdbcType="VARCHAR"
					property="receiverName" />
				<result column="approve_item_id" jdbcType="VARCHAR"
					property="approveItemId" />
				<result column="approve_item_type" jdbcType="VARCHAR"
					property="approveItemType" />
				<result column="toer_id" jdbcType="VARCHAR" property="toerId" />
				<result column="toer_name" jdbcType="VARCHAR"
					property="toerName" />
				<result column="option_type" jdbcType="VARCHAR"
					property="optionType" />
				<result column="dept_name_log" jdbcType="VARCHAR"
					property="deptName" />
				<result column="dept_id_log" jdbcType="VARCHAR"
					property="deptId" />
				<collection property="subLogs"
					ofType="com.chinatower.product.legalms.modules.flow.vo.flow.SubTFlowLogVO"
					resultMap="SubTFlowLog">
				</collection>
			</collection>
		</collection>
	</resultMap>
	<select id="selectOne" resultMap="LawsuitVO"
		parameterType="String">
		SELECT ig.*,
		<include refid="Base_Main_Column_List" />
		,
		<include refid="log_Column_List" />
		,
		<include refid="Sub_Column_List" />
		FROM
		t_issue_lawsuit ig LEFT
		JOIN t_flow_main fm
		ON
		ig.`lawsuit_id`=fm.`approve_item_id` AND
		fm.`approve_item_type`='t_issue_lawsuit'
		LEFT JOIN t_flow_log fl ON
		fm.`flow_id`=fl.`flow_id`
		LEFT JOIN t_flow_log flo ON
		fl.`flow_id`=flo.`flow_pid`
		AND
		fl.`activity_inst_id`=flo.`act_pid`
		WHERE
		ig.`lawsuit_id`=
		#{lawsuitId}
		ORDER BY fl.`modify_time`
	</select>
	<select id="selectLawsuitAndFlow" resultMap="LawsuitVO"
		parameterType="String">
		SELECT ig.*,fm.*
		FROM
		t_issue_lawsuit ig LEFT
		JOIN
		t_flow_main fm
		ON
		ig.`lawsuit_id`=fm.`approve_item_id` AND
		fm.`approve_item_type`='t_issue_lawsuit'
		WHERE
		ig.`lawsuit_id`=
		#{lawsuitId}
	</select>
	<select id="selectByPrimaryKey" parameterType="java.lang.String"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from t_issue_lawsuit
		where lawsuit_id = #{lawsuitId,jdbcType=VARCHAR}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from t_issue_lawsuit
		where lawsuit_status !='0'

		<choose>
			<when test="startDate != null and endDate != null">
				and case_create_time BETWEEN
				#{startDate,jdbcType=TIMESTAMP}
				and
				#{endDate,jdbcType=TIMESTAMP}
			</when>
			<when test="startDate != null">
				and case_create_time <![CDATA[>]]>
				#{startDate,jdbcType=TIMESTAMP}
			</when>
			<when test="endDate != null">
				and case_create_time <![CDATA[<]]>
				#{endDate,jdbcType=TIMESTAMP}
			</when>
		</choose>
		<if test="title != null and title != ''">
			and lawsuit_title like '%${title}%'
		</if>
		<if test="code != null and code != ''">
			and lawsuit_code like'%${code}%'
		</if>
		<if test="approveOrg != null and approveOrg != ''">
			and approve_org like'%${approveOrg}%'
		</if>
		<if test="caseType != null and caseType != ''">
			and case_type = #{caseType,jdbcType=VARCHAR}
		</if>
		<if test="status != null and status != ''">
			and lawsuit_status= #{status,jdbcType=VARCHAR}
		</if>
		<if test="loginAcct != null and loginAcct != ''">
			and login_acct = #{loginAcct}
		</if>
		<if test="otherDeputeBody != null and otherDeputeBody != ''">
			and they_lawsuit_body like '%${otherDeputeBody}%'
		</if>
		<if test="correlate == 1">
			AND (lawsuit_status = '30' or lawsuit_status = '20')
			and
			case_id = ''
		</if>
		<if test="ourLawsuitBodyName != null and ourLawsuitBodyName != ''">
			and (our_lawsuit_body_name ='${ourLawsuitBodyName}'
			or
			our_lawsuit_body_name like'${ourLawsuitBodyName},%'
			or
			our_lawsuit_body_name like'%,${ourLawsuitBodyName},%'
			or
			our_lawsuit_body_name like'%,${ourLawsuitBodyName}')
		</if>

		order by lawsuit_status,create_time desc
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		delete from
		t_issue_lawsuit
		where lawsuit_id = #{lawsuitId,jdbcType=VARCHAR}
	</delete>
	<insert id="insert"
		parameterType="com.chinatower.product.legalms.modules.dispute.entity.issue.TIssueLawsuit">
		insert into t_issue_lawsuit
		(lawsuit_id,lawsuit_code,lawsuit_title, guide_id, case_id,
		approve_state, approve_city, approve_org,
		approve_level,
		case_create_time,create_time, case_type,
		indict_or_unindict, case_line,
		case_cause,
		our_lawsuit_body,our_lawsuit_body_name, they_lawsuit_body,
		our_lawsuit_status,
		lawsuit_money, lawsuit_size, lawsuit_detail,
		file_url, other_related,
		sign_dept,login_acct,lawsuit_status,module_name,lawsuit_analyze,lawsuit_advise,business_advice)
		values
		(#{lawsuitId,jdbcType=VARCHAR},
		#{lawsuitCode,jdbcType=VARCHAR},#{lawsuitTitle,jdbcType=VARCHAR},
		#{guideId,jdbcType=VARCHAR},
		#{caseId,jdbcType=VARCHAR},
		#{approveState,jdbcType=VARCHAR},
		#{approveCity,jdbcType=VARCHAR},
		#{approveOrg,jdbcType=VARCHAR},
		#{approveLevel,jdbcType=VARCHAR},
		#{caseCreateTime,jdbcType=TIMESTAMP},
		#{createTime,jdbcType=TIMESTAMP},
		#{caseType,jdbcType=VARCHAR},
		#{indictOrUnindict,jdbcType=VARCHAR}, #{caseLine,jdbcType=VARCHAR},
		#{caseCause,jdbcType=VARCHAR},
		#{ourLawsuitBody,jdbcType=VARCHAR},
		#{ourLawsuitBodyName,jdbcType=VARCHAR},
		#{theyLawsuitBody,jdbcType=VARCHAR},
		#{ourLawsuitStatus,jdbcType=VARCHAR},
		#{lawsuitMoney,jdbcType=VARCHAR}, #{lawsuitSize,jdbcType=VARCHAR},
		#{lawsuitDetail,jdbcType=VARCHAR},
		#{fileUrl,jdbcType=VARCHAR},
		#{otherRelated,jdbcType=VARCHAR},
		#{signDept,jdbcType=VARCHAR},
		#{loginAcct,jdbcType=VARCHAR},
		#{lawsuitStatus,jdbcType=VARCHAR},
		#{moduleName,jdbcType=VARCHAR}),
		#{lawsuitAnalyze,jdbcType=VARCHAR},
		#{lawsuitAdvise,jdbcType=VARCHAR}),
		#{businessAdvice,jdbcType=VARCHAR})
	</insert>
	<insert id="insertSelective">
		insert into t_issue_lawsuit
		<trim prefix="(" suffix=")" suffixOverrides=",">
			lawsuit_id,
			lawsuit_code,
			<if test="record.lawsuitTitle != null">
				lawsuit_title,
			</if>
			<if test="record.guideId != null">
				guide_id,
			</if>

			<if test="record.caseId != null">
				case_id,
			</if>
			<if test="record.approveState != null">
				approve_state,
			</if>
			<if test="record.approveCity != null">
				approve_city,
			</if>
			<if test="record.approveOrg != null">
				approve_org,
			</if>
			<if test="record.approveLevel != null">
				approve_level,
			</if>
			<if test="record.caseCreateTime != null">
				case_create_time,
			</if>
			<if test="record.createTime != null">
				create_time,
			</if>
			<if test="record.caseType != null">
				case_type,
			</if>
			<if test="record.indictOrUnindict != null">
				indict_or_unindict,
			</if>
			<if test="record.caseLine != null">
				case_line,
			</if>
			<if test="record.caseCause != null">
				case_cause,
			</if>
			<if test="record.ourLawsuitBody != null">
				our_lawsuit_body,
			</if>
			<if test="record.ourLawsuitBodyName != null">
				our_lawsuit_body_name,
			</if>
			<if test="record.theyLawsuitBody != null">
				they_lawsuit_body,
			</if>
			<if test="record.ourLawsuitStatus != null">
				our_lawsuit_status,
			</if>
			<if test="record.lawsuitMoney != null">
				lawsuit_money,
			</if>
			<if test="record.lawsuitSize != null">
				lawsuit_size,
			</if>
			<if test="record.lawsuitDetail != null">
				lawsuit_detail,
			</if>
			<if test="record.fileUrl != null">
				file_url,
			</if>
			<if test="record.otherRelated != null">
				other_related,
			</if>
			<if test="record.thirdPerson != null">
				third_person,
			</if>
			<if test="record.plaintiff != null">
				plaintiff,
			</if>
			<if test="record.defendant != null">
				defendant,
			</if>
			<if test="record.signDept != null">
				sign_dept,
			</if>
			<if test="record.loginAcct != null">
				login_acct,
			</if>
			<if test="record.loginName != null">
				login_name,
			</if>
			<if test="record.orgName != null">
				org_name,
			</if>
			<if test="record.orgId != null">
				org_id,
			</if>
			<if test="record.deptName != null">
				dept_name,
			</if>
			<if test="record.deptId != null">
				dept_id,
			</if>
			<if test="record.mobile != null">
				mobile,
			</if>
			<if test="record.lawsuitStatus != null">
				lawsuit_status,
			</if>
			<if test="record.moduleName != null">
				module_name,
			</if>
			<if test="record.lawsuitAnalyze != null">
				lawsuit_analyze,
			</if>
			<if test="record.lawsuitAdvise != null">
				lawsuit_advise,
			</if>
			<if test="record.businessAdvice != null">
				business_advice,
			</if>
			<if test="record.createCaseType != null">
				create_case_type,
			</if>
			<if test="record.caseTitle != null">
				case_title
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			#{record.lawsuitId,jdbcType=VARCHAR},
			#{record.lawsuitCode,jdbcType=VARCHAR},
			<if test="record.lawsuitTitle != null">
				#{record.lawsuitTitle,jdbcType=VARCHAR},
			</if>
			<if test="record.guideId != null">
				#{record.guideId,jdbcType=VARCHAR},
			</if>
			<if test="record.caseId != null">
				#{record.caseId,jdbcType=VARCHAR},
			</if>
			<if test="record.approveState != null">
				#{record.approveState,jdbcType=VARCHAR},
			</if>
			<if test="record.approveCity != null">
				#{record.approveCity,jdbcType=VARCHAR},
			</if>
			<if test="record.approveOrg != null">
				#{record.approveOrg,jdbcType=VARCHAR},
			</if>
			<if test="record.approveLevel != null">
				#{record.approveLevel,jdbcType=VARCHAR},
			</if>
			<if test="record.caseCreateTime != null">
				#{record.caseCreateTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.createTime != null">
				#{record.createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.caseType != null">
				#{record.caseType,jdbcType=VARCHAR},
			</if>
			<if test="record.indictOrUnindict != null">
				#{record.indictOrUnindict,jdbcType=VARCHAR},
			</if>
			<if test="record.caseLine != null">
				#{record.caseLine,jdbcType=VARCHAR},
			</if>
			<if test="record.caseCause != null">
				#{record.caseCause,jdbcType=VARCHAR},
			</if>
			<if test="record.ourLawsuitBody != null">
				#{record.ourLawsuitBody,jdbcType=VARCHAR},
			</if>
			<if test="record.ourLawsuitBodyName != null">
				#{record.ourLawsuitBodyName,jdbcType=VARCHAR},
			</if>
			<if test="record.theyLawsuitBody != null">
				#{record.theyLawsuitBody,jdbcType=VARCHAR},
			</if>
			<if test="record.ourLawsuitStatus != null">
				#{record.ourLawsuitStatus,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitMoney != null">
				#{record.lawsuitMoney,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitSize != null">
				#{record.lawsuitSize,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitDetail != null">
				#{record.lawsuitDetail,jdbcType=VARCHAR},
			</if>
			<if test="record.fileUrl != null">
				#{record.fileUrl,jdbcType=VARCHAR},
			</if>
			<if test="record.otherRelated != null">
				#{record.otherRelated,jdbcType=VARCHAR},
			</if>
			<if test="record.thirdPerson != null">
				#{record.thirdPerson,jdbcType=VARCHAR},
			</if>
			<if test="record.plaintiff != null">
				#{record.plaintiff,jdbcType=VARCHAR},
			</if>
			<if test="record.defendant != null">
				#{record.defendant,jdbcType=VARCHAR},
			</if>
			<if test="record.signDept != null">
				#{record.signDept,jdbcType=VARCHAR},
			</if>
			<if test="record.loginAcct != null">
				#{record.loginAcct,jdbcType=VARCHAR},
			</if>
			<if test="record.loginName != null">
				#{record.loginName,jdbcType=VARCHAR},
			</if>
			<if test="record.orgName != null">
				#{record.orgName,jdbcType=VARCHAR},
			</if>
			<if test="record.orgId != null">
				#{record.orgId,jdbcType=VARCHAR},
			</if>
			<if test="record.deptName != null">
				#{record.deptName,jdbcType=VARCHAR},
			</if>
			<if test="record.deptId != null">
				#{record.deptId,jdbcType=VARCHAR},
			</if>
			<if test="record.mobile != null">
				#{record.mobile,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitStatus != null">
				#{record.lawsuitStatus,jdbcType=VARCHAR},
			</if>
			<if test="record.moduleName != null">
				#{record.moduleName,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitAnalyze != null">
				#{record.lawsuitAnalyze,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitAdvise != null">
				#{record.lawsuitAdvise,jdbcType=VARCHAR},
			</if>
			<if test="record.businessAdvice != null">
				#{record.businessAdvice,jdbcType=VARCHAR},
			</if>
			<if test="record.createCaseType != null">
				#{record.createCaseType,jdbcType=INTEGER},
			</if>
			<if test="record.caseTitle != null">
				#{record.caseTitle,jdbcType=VARCHAR}
			</if>
		</trim>
	</insert>
	<insert id="insertSelectiveTemp">
		insert into t_issue_lawsuit
		<trim prefix="(" suffix=")" suffixOverrides=",">
			lawsuit_id,
			lawsuit_code,
			<if test="record.lawsuitTitle != null">
				lawsuit_title,
			</if>
			<if test="record.guideId != null">
				guide_id,
			</if>

			<if test="record.caseId != null">
				case_id,
			</if>
			<if test="record.approveState != null">
				approve_state,
			</if>
			<if test="record.approveCity != null">
				approve_city,
			</if>
			<if test="record.approveOrg != null">
				approve_org,
			</if>
			<if test="record.approveLevel != null">
				approve_level,
			</if>
			<if test="record.caseCreateTime != null">
				case_create_time,
			</if>
			<if test="record.createTime != null">
				create_time,
			</if>
			<if test="record.caseType != null">
				case_type,
			</if>
			<if test="record.indictOrUnindict != null">
				indict_or_unindict,
			</if>
			<if test="record.caseLine != null">
				case_line,
			</if>
			<if test="record.caseCause != null">
				case_cause,
			</if>
			<if test="record.ourLawsuitBody != null">
				our_lawsuit_body,
			</if>
			<if test="record.ourLawsuitBodyName != null">
				our_lawsuit_body_name,
			</if>
			<if test="record.theyLawsuitBody != null">
				they_lawsuit_body,
			</if>
			<if test="record.ourLawsuitStatus != null">
				our_lawsuit_status,
			</if>
			<if test="record.lawsuitMoney != null">
				lawsuit_money,
			</if>
			<if test="record.lawsuitSize != null">
				lawsuit_size,
			</if>
			<if test="record.lawsuitDetail != null">
				lawsuit_detail,
			</if>
			<if test="record.fileUrl != null">
				file_url,
			</if>
			<if test="record.otherRelated != null">
				other_related,
			</if>
			<if test="record.thirdPerson != null">
				third_person,
			</if>
			<if test="record.plaintiff != null">
				plaintiff,
			</if>
			<if test="record.defendant != null">
				defendant,
			</if>
			<if test="record.signDept != null">
				sign_dept,
			</if>
			<if test="record.loginAcct != null">
				login_acct,
			</if>
			<if test="record.loginName != null">
				login_name,
			</if>
			<if test="record.orgName != null">
				org_name,
			</if>
			<if test="record.orgId != null">
				org_id,
			</if>
			<if test="record.deptName != null">
				dept_name,
			</if>
			<if test="record.deptId != null">
				dept_id,
			</if>
			<if test="record.mobile != null">
				mobile,
			</if>
			<if test="record.lawsuitStatus != null">
				lawsuit_status,
			</if>
			<if test="record.moduleName != null">
				module_name,
			</if>
			<if test="record.lawsuitAnalyze != null">
				lawsuit_analyze,
			</if>
			<if test="record.lawsuitAdvise != null">
				lawsuit_advise,
			</if>
			<if test="record.businessAdvice != null">
				business_advice,
			</if>
			<if test="record.createCaseType != null">
				create_case_type,
			</if>
			<if test="record.caseTitle != null">
				case_title,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			#{record.lawsuitId,jdbcType=VARCHAR},
			#{record.lawsuitCode,jdbcType=VARCHAR},
			<if test="record.lawsuitTitle != null">
				#{record.lawsuitTitle,jdbcType=VARCHAR},
			</if>
			<if test="record.guideId != null">
				#{record.guideId,jdbcType=VARCHAR},
			</if>
			<if test="record.caseId != null">
				#{record.caseId,jdbcType=VARCHAR},
			</if>
			<if test="record.approveState != null">
				#{record.approveState,jdbcType=VARCHAR},
			</if>
			<if test="record.approveCity != null">
				#{record.approveCity,jdbcType=VARCHAR},
			</if>
			<if test="record.approveOrg != null">
				#{record.approveOrg,jdbcType=VARCHAR},
			</if>
			<if test="record.approveLevel != null">
				#{record.approveLevel,jdbcType=VARCHAR},
			</if>
			<if test="record.caseCreateTime != null">
				#{record.caseCreateTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.createTime != null">
				#{record.createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="record.caseType != null">
				#{record.caseType,jdbcType=VARCHAR},
			</if>
			<if test="record.indictOrUnindict != null">
				#{record.indictOrUnindict,jdbcType=VARCHAR},
			</if>
			<if test="record.caseLine != null">
				#{record.caseLine,jdbcType=VARCHAR},
			</if>
			<if test="record.caseCause != null">
				#{record.caseCause,jdbcType=VARCHAR},
			</if>
			<if test="record.ourLawsuitBody != null">
				#{record.ourLawsuitBody,jdbcType=VARCHAR},
			</if>
			<if test="record.ourLawsuitBodyName != null">
				#{record.ourLawsuitBodyName,jdbcType=VARCHAR},
			</if>
			<if test="record.theyLawsuitBody != null">
				#{record.theyLawsuitBody,jdbcType=VARCHAR},
			</if>
			<if test="record.ourLawsuitStatus != null">
				#{record.ourLawsuitStatus,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitMoney != null">
				#{record.lawsuitMoney,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitSize != null">
				#{record.lawsuitSize,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitDetail != null">
				#{record.lawsuitDetail,jdbcType=VARCHAR},
			</if>
			<if test="record.fileUrl != null">
				#{record.fileUrl,jdbcType=VARCHAR},
			</if>
			<if test="record.otherRelated != null">
				#{record.otherRelated,jdbcType=VARCHAR},
			</if>
			<if test="record.thirdPerson != null">
				#{record.thirdPerson,jdbcType=VARCHAR},
			</if>
			<if test="record.plaintiff != null">
				#{record.plaintiff,jdbcType=VARCHAR},
			</if>
			<if test="record.defendant != null">
				#{record.defendant,jdbcType=VARCHAR},
			</if>
			<if test="record.signDept != null">
				#{record.signDept,jdbcType=VARCHAR},
			</if>
			<if test="record.loginAcct != null">
				#{record.loginAcct,jdbcType=VARCHAR},
			</if>
			<if test="record.loginName != null">
				#{record.loginName,jdbcType=VARCHAR},
			</if>
			<if test="record.orgName != null">
				#{record.orgName,jdbcType=VARCHAR},
			</if>
			<if test="record.orgId != null">
				#{record.orgId,jdbcType=VARCHAR},
			</if>
			<if test="record.deptName != null">
				#{record.deptName,jdbcType=VARCHAR},
			</if>
			<if test="record.deptId != null">
				#{record.deptId,jdbcType=VARCHAR},
			</if>
			<if test="record.mobile != null">
				#{record.mobile,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitStatus != null">
				#{record.lawsuitStatus,jdbcType=VARCHAR},
			</if>
			<if test="record.moduleName != null">
				#{record.moduleName,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitAnalyze != null">
				#{record.lawsuitAnalyze,jdbcType=VARCHAR},
			</if>
			<if test="record.lawsuitAdvise != null">
				#{record.lawsuitAdvise,jdbcType=VARCHAR},
			</if>
			<if test="record.businessAdvice != null">
				#{record.businessAdvice,jdbcType=VARCHAR},
			</if>
			<if test="record.createCaseType != null">
				#{record.createCaseType,jdbcType=INTEGER},
			</if>
			<if test="record.caseTitle != null">
				#{record.caseTitle,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective"
		parameterType="com.chinatower.product.legalms.modules.dispute.entity.issue.TIssueLawsuit">
		update t_issue_lawsuit
		<set>
			<if test="lawsuitTitle != null">
				lawsuit_title = #{lawsuitTitle,jdbcType=VARCHAR},
			</if>
			<if test="guideId != null">
				guide_id = #{guideId,jdbcType=VARCHAR},
			</if>
			<if test="caseId != null">
				case_id = #{caseId,jdbcType=VARCHAR},
			</if>
			<if test="approveState != null">
				approve_state = #{approveState,jdbcType=VARCHAR},
			</if>
			<if test="approveCity != null">
				approve_city = #{approveCity,jdbcType=VARCHAR},
			</if>
			<if test="approveOrg != null">
				approve_org = #{approveOrg,jdbcType=VARCHAR},
			</if>
			<if test="approveLevel != null">
				approve_level = #{approveLevel,jdbcType=VARCHAR},
			</if>
			<if test="caseCreateTime != null">
				case_create_time = #{caseCreateTime,jdbcType=TIMESTAMP},
			</if>

			<if test="caseType != null">
				case_type = #{caseType,jdbcType=VARCHAR},
			</if>
			<if test="indictOrUnindict != null">
				indict_or_unindict =
				#{indictOrUnindict,jdbcType=VARCHAR},
			</if>
			<if test="caseLine != null">
				case_line = #{caseLine,jdbcType=VARCHAR},
			</if>
			<if test="caseCause != null">
				case_cause = #{caseCause,jdbcType=VARCHAR},
			</if>
			<if test="ourLawsuitBody != null">
				our_lawsuit_body = #{ourLawsuitBody,jdbcType=VARCHAR},
			</if>
			<if test="ourLawsuitBodyName != null">
				our_lawsuit_body_name =
				#{ourLawsuitBodyName,jdbcType=VARCHAR},
			</if>
			<if test="theyLawsuitBody != null">
				they_lawsuit_body = #{theyLawsuitBody,jdbcType=VARCHAR},
			</if>
			<if test="ourLawsuitStatus != null">
				our_lawsuit_status =
				#{ourLawsuitStatus,jdbcType=VARCHAR},
			</if>
			<if test="lawsuitMoney != null">
				lawsuit_money = #{lawsuitMoney,jdbcType=VARCHAR},
			</if>
			<if test="lawsuitSize != null">
				lawsuit_size = #{lawsuitSize,jdbcType=VARCHAR},
			</if>
			<if test="lawsuitDetail != null">
				lawsuit_detail = #{lawsuitDetail,jdbcType=VARCHAR},
			</if>
			<if test="fileUrl != null">
				file_url = #{fileUrl,jdbcType=VARCHAR},
			</if>
			<if test="otherRelated != null">
				other_related = #{otherRelated,jdbcType=VARCHAR},
			</if>
			<if test="thirdPerson != null">
				third_person = #{thirdPerson,jdbcType=VARCHAR},
			</if>
			<if test="plaintiff != null">
				plaintiff = #{plaintiff,jdbcType=VARCHAR},
			</if>
			<if test="defendant != null">
				defendant = #{defendant,jdbcType=VARCHAR},
			</if>
			<if test="signDept != null">
				sign_dept = #{signDept,jdbcType=VARCHAR},
			</if>
			<if test="lawsuitStatus != null">
				lawsuit_status = #{lawsuitStatus,jdbcType=VARCHAR},
			</if>
			<if test="moduleName != null">
				module_name = #{moduleName,jdbcType=VARCHAR},
			</if>
			<if test="lawsuitId != null">
				lawsuit_id =
				#{lawsuitId,jdbcType=VARCHAR},
			</if>
			<if test="lawsuitAnalyze != null">
				lawsuit_analyze =
				#{lawsuitAnalyze,jdbcType=VARCHAR},
			</if>
			<if test="lawsuitAdvise != null">
				lawsuit_advise =
				#{lawsuitAdvise,jdbcType=VARCHAR},
			</if>
			<if test="businessAdvice != null">
				business_advice =
				#{businessAdvice,jdbcType=VARCHAR},
			</if>
			<if test="createCaseType != null">
				create_case_type = #{createCaseType,jdbcType=INTEGER},
			</if>
			<if test="caseTitle != null">
				case_title = #{caseTitle,jdbcType=VARCHAR}
			</if>
		</set>
		where lawsuit_id = #{lawsuitId,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey"
		parameterType="com.chinatower.product.legalms.modules.dispute.entity.issue.TIssueLawsuit">
		update t_issue_lawsuit
		set
		lawsuit_title =
		#{lawsuitTitle,jdbcType=VARCHAR},
		case_id =
		#{caseId,jdbcType=VARCHAR},
		approve_state =
		#{approveState,jdbcType=VARCHAR},
		approve_city =
		#{approveCity,jdbcType=VARCHAR},
		approve_org =
		#{approveOrg,jdbcType=VARCHAR},
		approve_level =
		#{approveLevel,jdbcType=VARCHAR},
		case_create_time =
		#{caseCreateTime,jdbcType=TIMESTAMP},
		case_type =
		#{caseType,jdbcType=VARCHAR},
		indict_or_unindict =
		#{indictOrUnindict,jdbcType=VARCHAR},
		case_line =
		#{caseLine,jdbcType=VARCHAR},
		case_cause =
		#{caseCause,jdbcType=VARCHAR},
		our_lawsuit_body =
		#{ourLawsuitBody,jdbcType=VARCHAR},
		our_lawsuit_body_name =
		#{ourLawsuitBodyName,jdbcType=VARCHAR},
		they_lawsuit_body =
		#{theyLawsuitBody,jdbcType=VARCHAR},
		our_lawsuit_status =
		#{ourLawsuitStatus,jdbcType=VARCHAR},
		lawsuit_money =
		#{lawsuitMoney,jdbcType=VARCHAR},
		lawsuit_size =
		#{lawsuitSize,jdbcType=VARCHAR},
		lawsuit_detail =
		#{lawsuitDetail,jdbcType=VARCHAR},
		file_url =
		#{fileUrl,jdbcType=VARCHAR},
		other_related =
		#{otherRelated,jdbcType=VARCHAR},
		sign_dept =
		#{signDept,jdbcType=VARCHAR},
		lawsuit_status =
		#{lawsuitStatus,jdbcType=VARCHAR},
		module_name =
		#{moduleName,jdbcType=VARCHAR},
		lawsuit_analyze =
		#{lawsuitAnalyze,jdbcType=VARCHAR},
		lawsuit_advise =
		#{lawsuitAdvise,jdbcType=VARCHAR},
		business_advice =
		#{businessAdvice,jdbcType=VARCHAR},
		third_person =
		#{thirdPerson,jdbcType=VARCHAR},
		plaintiff =
		#{plaintiff,jdbcType=VARCHAR},
		defendant =
		#{defendant,jdbcType=VARCHAR},
		guide_id =
		#{guideId,jdbcType=VARCHAR},
		create_case_type =
		#{createCaseType,jdbcType=INTEGER},
		case_title =
		#{caseTitle,jdbcType=VARCHAR}
		where lawsuit_id =
		#{lawsuitId,jdbcType=VARCHAR}
	</update>
	<update id="deleteTIssueLawsuit">
		update t_issue_lawsuit set lawsuit_status='0'
		where lawsuit_id in
		<foreach item="item" index="index" collection="list" open="("
			separator="," close=")">#{item}
		</foreach>
		and lawsuit_status='10'
	</update>
	<select id="selectAllByCase" resultMap="LawsuitVO">
		select
		ig.*,fm.module_name,fm.approve_item_name,fm.approve_item_type
		from t_issue_lawsuit ig
		left join t_flow_main fm on ig.`lawsuit_id` =
		fm.approve_item_id
		and fm.approve_item_type='t_issue_lawsuit'
		where
		ig.lawsuit_status !='0'
		AND
		ig.`lawsuit_status`!='10'

		<choose>
			<when test="param.result != null and param.result != ''">
				and ig.lawsuit_id =
				#{param.result,jdbcType=VARCHAR}
			</when>

			<otherwise>
				AND ig.`lawsuit_id`
				NOT IN (SELECT cm.`business_id` FROM
				t_case_relationship cm WHERE cm.`business_type` = 't_issue_lawsuit'
				AND
				cm.`case_id`= #{param.caseId,jdbcType=VARCHAR})
				<if test="param.startDate != null and param.endDate != null">
					and ig.case_create_time BETWEEN
					#{param.startDate,jdbcType=TIMESTAMP}
					and
					#{param.endDate,jdbcType=TIMESTAMP}
				</if>
				<if test="param.title != null and param.title != ''">
					and ig.lawsuit_title like '%${param.title}%'
				</if>
				<if test="param.code != null and param.code != ''">
					and ig.lawsuit_code like'%${param.code}%'
				</if>
				<if test="param.approveOrg != null and param.approveOrg != ''">
					and ig.approve_org like '%${param.approveOrg}%'
				</if>
				<if
					test="param.ourLawsuitBodyName != null and param.ourLawsuitBodyName != ''">
					and our_lawsuit_body_name like'%${param.ourLawsuitBodyName}%'
				</if>
				<if
					test="param.otherDeputeBody != null and param.otherDeputeBody != ''">
					and ig.they_lawsuit_body like '%${param.otherDeputeBody}%'
				</if>
				<if test="unitId != null and unitId != ''">
					and #{unitId} = (
					SELECT at.account_unit_id unit_id
					FROM
					t_pub_account_tab at
					WHERE
					at.account_id = ig.login_acct
					)
				</if>
			</otherwise>
		</choose>
		order by ig.lawsuit_status,ig.create_time
	</select>
	<select id="selectWholeData" resultMap="BaseResultMap">
		select
		til.*
		from t_issue_lawsuit til left join t_pub_org tpo on
		til.dept_id = tpo.org_code
		<where>
			til.lawsuit_status in ('20', '30')
			<if test="param.caseLine != null and param.caseLine != ''">
				and til.case_line = #{param.caseLine}
			</if>
			<if test="param.startDate != null">
				and til.create_time >
				#{param.startDate,jdbcType=TIMESTAMP}
			</if>
			<if test="param.endDate != null">
				and til.create_time <![CDATA[<]]>
				#{param.endDate,jdbcType=TIMESTAMP}
			</if>
			<if test="param.title != null and param.title != ''">
				and til.lawsuit_title like '%${param.title}%'
			</if>
			<if test="param.code != null and param.code != ''">
				and til.lawsuit_code like'%${param.code}%'
			</if>
			<if
				test="param.theyLawsuitBody != null and param.theyLawsuitBody != ''">
				and til.they_lawsuit_body like '%${param.theyLawsuitBody}%'
			</if>
			<if
				test="param.ourLawsuitBodyName != null and param.ourLawsuitBodyName != ''">
				and (til.our_lawsuit_body_name ='${param.ourLawsuitBodyName}'
				or til.our_lawsuit_body_name like'${param.ourLawsuitBodyName},%'
				or
				til.our_lawsuit_body_name like'%,${param.ourLawsuitBodyName},%'
				or
				til.our_lawsuit_body_name like'%,${param.ourLawsuitBodyName}')
			</if>
			<if test="param.orgPath != null and param.orgPath != ''">
				and tpo.org_path like #{param.orgPath}
			</if>
			<if test="param.userId != null and param.userId != ''">
				and til.login_acct = #{param.userId}
			</if>
			<if test="param.deptId != null and param.deptId != ''">
				and til.dept_id = #{param.deptId}
			</if>
			<if test="param.orgDepLeaders != null">
				and til.dept_id in
				<foreach collection="param.orgDepLeaders" open="(" close=")"
					item="value" index='index' separator=",">
					#{value.orgCode}
				</foreach>
			</if>
			<if
				test="param.lawsuitStatus != null and param.lawsuitStatus != ''">
				and til.lawsuit_status= #{param.lawsuitStatus,jdbcType=VARCHAR}
			</if>
			<if test="param.caseLine != null and param.caseLine != ''">
				and til.case_line= #{param.caseLine,jdbcType=VARCHAR}
			</if>
		</where>
		order by til.lawsuit_status,til.create_time desc
	</select>

	<select id="verifyCaseId" parameterType="String" resultType="Integer">
		SELECT COUNT(case_id)
		FROM t_case_main ca WHERE ca.`delete_status`=0 AND
		(ca.`case_status`='2' OR ca.`case_status`='3' )
		AND case_id=
		#{caseId,jdbcType=VARCHAR}
	</select>
</mapper>